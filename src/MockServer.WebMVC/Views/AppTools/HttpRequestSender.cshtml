@{
    Layout = "/Views/Shared/_SimpleLayout.cshtml";
}
<style type="text/css" media="screen">
    #request-body-editor,
    #response-body-editor {
        width: 100%;
        height: 400px;
        border: 1px solid grey;
    }
</style>

<div class="d-flex mt-2">
    <div class="mt-2 mx-auto w-50 px-2">
        <h2 class="mb-2 fs-6">Request</h2>
        <form name="request-settings" class="mb-2">
            <div class="d-flex mb-2">
                <div>
                    <select name="method" class="form-select">
                        <option value="GET" selected>GET</option>
                        <option value="POST">POST</option>
                    </select>
                </div>
                <div class="flex-fill">
                    <input class="form-control" type="text" name="url" value="@ViewData["Url"]">
                </div>
                <div class="ms-auto">
                    <button class="btn btn-primary">Send</button>
                </div>
            </div>
            <div>
                <ul class="nav nav-tabs" role="tablist">
                    <li class="nav-item" role="presentation">
                        <button type="button" class="nav-link active py-1" data-bs-toggle="tab"
                            data-bs-target="#request-param-tab">Params</button>
                    </li>
                    <li class="nav-item">
                        <button type="button" class="nav-link py-1" data-bs-toggle="tab"
                            data-bs-target="#request-header-tab">Headers</button>
                    </li>
                    <li class="nav-item">
                        <button type="button" class="nav-link py-1" data-bs-toggle="tab"
                            data-bs-target="#request-body-tab">Body</button>
                    </li>
                </ul>
                <div class="tab-content">
                    <div id="request-param-tab" class="tab-pane fade show active p-2" role="tabpanel">
                        <table id="request-params" class="table table-sm p-0 m-0">
                            <thead>
                                <tr>
                                    <th style="width: 35%" scope="col">Key</th>
                                    <th style="width: 35%" scope="col">Value</th>
                                    <th style="width: 10%" scope="col"></th>
                                </tr>
                            </thead>
                            <tbody>
                            </tbody>
                        </table>
                    </div>
                    <div id="request-header-tab" class="tab-pane fade p-2" role="tabpanel">
                        <table id="request-header-table" class="table table-sm p-0 m-0">
                            <thead>
                                <tr>
                                    <th style="width: 35%" scope="col">Header</th>
                                    <th style="width: 35%" scope="col">Value</th>
                                    <th style="width: 10%" scope="col"></th>
                                </tr>
                            </thead>
                            <tbody>

                            </tbody>
                        </table>
                    </div>
                    <div id="request-body-tab" class="tab-pane fade p-2" role="tabpanel">
                        <div class="d-flex">
                            <select id="request-body-type" class="form-select form-select-sm w-auto mb-1">
                                <option value="json" selected>JSON</option>
                                <option value="xml">XML</option>
                                <option value="text">Text</option>
                            </select>
                            <div class="ms-auto">
                                <button class="btn btn-sm btn-link text-decoration-none">Format</button>
                            </div>
                        </div>
                        <div id="request-body-editor"></div>
                    </div>
                </div>
            </div>
        </form>
    </div>
    <div class="mt-2 mx-auto w-50 px-2">
        <h2 class="mb-2 fs-6">Response</h2>
        <div class="d-flex">
            Status Code
        </div>
    </div>
</div>

@section Scripts
{
@* <script src="~/lib/monaco-editor/min/vs/loader.js"></script> *@


}
<script src="https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.34.1/min/vs/loader.min.js"></script>
<script>
    require.config({ paths: { vs: "https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.34.1/min/vs" } });
    function setUpRequestBodyEditor() {
        require(["vs/editor/editor.main"], function () {
            var editor = monaco.editor.create(
                document.getElementById("request-body-editor"),
                {
                    value: '{\n\t"message": "hi"\n}',
                    language: "json",
                    automaticLayout: true
                }
            );
            window.editor1 = editor;
        });
    }
</script>
<script>
    $(function () {
        $('select[name=method]').val('@ViewData["Method"]' !== '' ? '@ViewData["Method"]' : 'GET');
        setUpRequestBodyEditor();
        $("form[name=request-settings]").submit(function (e) {
            e.preventDefault();
            $.ajax({
                type: $('select[name=method]').val(),
                url: $('input[name=url]').val(),
                headers: {
                    'number1': 3,
                    'number2': 2
                },
                success: function (data) {
                    alert(data);
                },
                error: function () {
                    alert('something went wrong');
                }
            })
        });
    });
</script>
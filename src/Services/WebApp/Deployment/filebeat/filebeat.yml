filebeat.inputs:
- type: container
  paths: 
    - '/var/log/containers/*.log'
  # - type: container
  #   enabled: true
  #   containers:
  #     ids:
  #       - "*"
  #   processors:
  #     # Add Docker metadata (including container labels)
  #     - add_docker_metadata:
  #         host: "unix:///var/run/docker.sock"

  #     # Filter logs from containers with the image 'builder-image'
  #     - drop_event:
  #         when:
  #           not:
  #             equals:
  #               container.image: "mycrocloud-builder"

  #     # Include fields for logs: Timestamp, Level, Message, and JobId
  #     - add_fields:
  #         fields:
  #           Timestamp: "%{[event.timestamp]}"
  #           Level: "%{[log.level]}"
  #           Message: "%{[message]}"

  #     # Drop unnecessary fields
  #     - drop_fields:
  #         fields: ["host", "container.labels.unwanted_label"]

output.console:
  pretty: true

# output.elasticsearch:
#   hosts: ["https://mycrocloud-7633273944.us-east-1.bonsaisearch.net:443"]
#   username: "hnf46i7rwy"
#   password: "ayv69lvkpa"
#   index: "container-logs"
#   setup.template.name: "container-logs"
#   setup.template.pattern: "container-logs-*"

# logging.level: info
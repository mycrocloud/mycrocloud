@page "/projects/{projectId:int}/requests/create"
@model MockServer.Web.Pages.Requests.CreateModel
@{
    ViewData["Title"] = "Create request";
}
<h2 class="h2 border-bottom mb-3">Create new request</h2>
<form method="post">
    <div class="form-group mb-3">
        <label asp-for="Request!.Name" class="form-label">Name</label>
        <input type="text" class="form-control" asp-for="Request!.Name">
    </div>
    <div class="form-group mb-3">
        <label asp-for="Request!.Path" class="form-label">Path</label>
        <input type="text" class="form-control" asp-for="Request!.Path">
    </div>
    <div class="form-group mb-3">
        <label asp-for="Request!.Method" class="form-label">Method</label>
        <select class="form-select" aria-label="Select method for request">
            <option value="1">GET</option>
            <option value="2">POST</option>
            <option value="3">PUT</option>
            <option value="4">DELETE</option>
        </select>
    </div>
    <div class="form-group mb-3">
        <label asp-for="Request!.Type" class="form-label">Type</label>
        <div class="form-check">
            <input type="radio" class="form-check-input" asp-for="Request!.Type" value="1" checked>
            <label asp-for="Request!.Type">Fixed</label>
        </div>
        <div class="form-check">
            <input type="radio" class="form-check-input" asp-for="Request!.Type" value="2">
            <label asp-for="Request!.Type">Forward</label>
        </div>
    </div>
    <div id="fixed-request-body" class="hide">
        <h4 class="h4 mb-3">Expected response</h4>
        <div class="form-group mb-3">
            <label asp-for="Request!.FixedRequest!.StatusCode" class="form-label">Status code</label>
            <select class="form-select" asp-for="Request!.FixedRequest!.StatusCode"
                aria-label="Select method for request">
                <option value="200" selected>200</option>
                <option value="400">400</option>
            </select>
        </div>
        <div class="form-group mb-3">
            <label asp-for="Request!.FixedRequest!.Body" class="form-label">Body</label>
            <input type="text" class="form-control" asp-for="Request!.FixedRequest!.Body">
        </div>
    </div>
    <div id="forward-request" class="hide">
        <h4 class="h4 mb-3">Forward request</h4>
        <div class="form-group mb-3">
            <label asp-for="Request!.ForwardRequest!.Scheme" class="form-label">Scheme</label>
            <input type="text" class="form-control" asp-for="Request!.ForwardRequest!.Scheme">
        </div>
        <div class="form-group mb-3">
            <label asp-for="Request!.ForwardRequest!.Host" class="form-label">Host</label>
            <input type="text" class="form-control" asp-for="Request!.ForwardRequest!.Host">
        </div>
    </div>
    <button type="submit" class="btn btn-primary px-5">Save</button>
</form>
<script src="~/lib/jquery/dist/jquery.min.js"></script>
<script type="text/javascript">
    $(function () {
        $("[name='Request.Type']").click(function () {
            $('.hide').hide();
            selectedType = $(this).val();
            if (selectedType == 1) {
                $('#fixed-request-body').show();
            } else if (selectedType == 2) {
                $('#forward-request').show();
            }
        });
    });
</script>